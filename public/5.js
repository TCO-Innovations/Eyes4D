(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{0:function(t,e,n){"use strict";function r(t,e,n,r,s,a,o,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):s&&(l=i?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return r}))},13:function(t,e,n){"use strict";n.r(e);var r=n(1),s=n.n(r),a=(n(3),{props:{area:{required:!0,type:Object},duration:{required:!0}},data:function(){return{isVisible:!1,day:(new Date).getDate(),month:(new Date).getMonth(),year:(new Date).getFullYear(),date:new Date,period:"daily",statistics:[]}},mounted:function(){this.fetchReport()},watch:{day:function(){this.date=new Date(this.year,this.month,this.day),this.fetchReport()},month:function(){this.date=new Date(this.year,this.month,this.day),this.fetchReport()},year:function(){this.date=new Date(this.year,this.month,this.day),this.fetchReport()},duration:function(t){this.year=t,this.date=new Date(t,this.month,this.day),this.fetchReport()}},computed:{chartOptions:function(){return{chart:{type:"column"},title:{text:"Hand Washing Characteristics",margin:36,style:{color:"#333333",fontSize:"14px"}},subtitle:{text:"".concat(this.areaName,": Jul 2019 - Sep 2019")},accessibility:{announceNewData:{enabled:!0}},xAxis:{type:"category"},yAxis:{title:{text:"Household With Latrines"}},legend:{enabled:!1},tooltip:{headerFormat:'<span style="font-size:11px">{point.name}</span><br>',pointFormat:"<span>{point.name}</span>: <b>{point.y}</b><br/>"},credits:{enabled:!1},series:[{colorByPoint:!0,data:this.statistics}]}},areaName:function(){return"".concat(this.area.name?this.area.name:"All"," ").concat(this.area.type?this.area.type:"Regions")}},methods:{toggle:function(){return this.isVisible=!this.isVisible},getMonthName:function(t){return new Date(this.year,t,this.day).toLocaleString("default",{month:"long"})},aggregateAttribute:function(t,e){return t.data.map((function(t){return t[e]})).reduce((function(t,e){return t+e}))},dailyReport:function(){this.period="daily",this.fetchReport()},monthlyReport:function(){this.period="monthly",this.fetchReport()},annuallyReport:function(){this.period="annually",this.fetchReport()},fetchReport:function(){var t=this;s.a.get("/api/latrine_characteristics",{params:{period:this.period,date:this.date}}).then((function(e){t.statistics=t.transformResult(e)}))},transformResult:function(t){return[{name:"Hand wash place",y:this.aggregateAttribute(t,"has_latrine")},{name:"Hand wash container",y:this.aggregateAttribute(t,"has_lockable_door")},{name:"Soap",y:this.aggregateAttribute(t,"has_brick_wall")}]}}}),o=n(0),i=Object(o.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-auto shadow-lg overflow-hidden"},[n("header",{staticClass:"px-6 bg-blue-100 border-b border-blue-100 flex justify-between items-center"},[n("div",{staticClass:"text-sm text-gray-600"},[n("button",{staticClass:"px-2",on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[t._v("\n                "+t._s(t.isVisible?"Hide":"Show")+" Details\n            ")])]),t._v(" "),n("div",{staticClass:"flex"},[n("ul",{staticClass:"flex items-center mx-6"},[n("li",[n("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"daily"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.dailyReport(e)}}},[t._v("Daily")])]),t._v(" "),n("li",[n("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"monthly"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.monthlyReport(e)}}},[t._v("Monthly")])]),t._v(" "),n("li",[n("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"annually"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.annuallyReport(e)}}},[t._v("Annually")])])]),t._v(" "),n("form",{staticClass:"flex items-center"},["daily"===t.period?n("select",{directives:[{name:"model",rawName:"v-model",value:t.day,expression:"day"}],staticClass:"bg-blue-100",attrs:{id:"day"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.day=e.target.multiple?n:n[0]}}},t._l(new Date(t.year,t.month+1,0).getDate(),(function(e){return n("option",{domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0):t._e(),t._v(" "),"daily"===t.period||"monthly"===t.period?n("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],staticClass:"bg-blue-100",attrs:{id:"month"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.month=e.target.multiple?n:n[0]}}},t._l(Array(12).keys(),(function(e){return n("option",{domProps:{value:e}},[t._v("\n                        "+t._s(t.getMonthName(e))+"\n                    ")])})),0):t._e(),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],staticClass:"bg-blue-100",attrs:{id:"year"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.year=e.target.multiple?n:n[0]}}},t._l(Array(5).keys(),(function(e){return n("option",{domProps:{value:t.year-e}},[t._v("\n                        "+t._s(t.year-e)+"\n                    ")])})),0)])])]),t._v(" "),n("div",{staticClass:"px-6 py-8"},[n("highcharts",{attrs:{options:t.chartOptions}})],1),t._v(" "),t.isVisible?n("div",{staticClass:"px-6 py-6 bg-gray-100"},[t._m(0)]):t._e()])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"w-full"},[n("tbody",[n("tr",[n("th",{staticClass:"py-1"},[n("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[n("span",{staticClass:"block h-4 w-4 rounded bg-blue-500 mr-2"}),t._v(" Easy Washable Cemented Floor\n                    ")])]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),n("tr",[n("th",{staticClass:"py-1"},[n("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[n("span",{staticClass:"block h-4 w-4 rounded bg-green-500 mr-2"}),t._v(" Iron Sheet Roof\n                    ")])]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),n("tr",[n("th",{staticClass:"py-1"},[n("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[n("span",{staticClass:"block h-4 w-4 rounded bg-yellow-500 mr-2"}),t._v(" Adjacent Bathroom\n                    ")])]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),n("tr",[n("th",{staticClass:"py-1"},[n("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[n("span",{staticClass:"block h-4 w-4 rounded bg-red-500 mr-2"}),t._v(" Lockable Door\n                    ")])]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),n("tr",[n("th",{staticClass:"py-1"},[n("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[n("span",{staticClass:"block h-4 w-4 rounded bg-purple-500 mr-2"}),t._v(" Wall With Bricks\n                    ")])]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),n("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])])])])}],!1,null,null,null);e.default=i.exports},3:function(t,e,n){"use strict";const r=n(45),s=n(46),a=n(47);function o(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function i(t,e){return e.decode?s(t):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function c(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function p(t,e){const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return(t,n,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":return(t,e,n)=>{const r="string"==typeof e&&e.split("").indexOf(",")>-1?e.split(","):e;n[t]=r};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",parseNumbers:!1,parseBooleans:!1},e)),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const s of t.split("&")){let[t,o]=a(e.decode?s.replace(/\+/g," "):s,"=");o=void 0===o?null:i(o,e),n(i(t,e),o,r)}for(const t of Object.keys(r)){const n=r[t];if("object"==typeof n&&null!==n)for(const t of Object.keys(n))n[t]=u(n[t],e);else r[t]=u(n,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((t,e)=>{const n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((t,e)=>Number(t)-Number(e)).map(t=>e[t]):e}(n):t[e]=n,t},Object.create(null))}e.extract=c,e.parse=p,e.stringify=(t,e)=>{if(!t)return"";const n=function(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const s=n.length;return void 0===r||t.skipNull&&null===r?n:null===r?[...n,[o(e,t),"[",s,"]"].join("")]:[...n,[o(e,t),"[",o(s,t),"]=",o(r,t)].join("")]};case"bracket":return e=>(n,r)=>void 0===r||t.skipNull&&null===r?n:null===r?[...n,[o(e,t),"[]"].join("")]:[...n,[o(e,t),"[]=",o(r,t)].join("")];case"comma":return e=>(n,r)=>null==r||0===r.length?n:0===n.length?[[o(e,t),"=",o(r,t)].join("")]:[[n,o(r,t)].join(",")];default:return e=>(n,r)=>void 0===r||t.skipNull&&null===r?n:null===r?[...n,o(e,t)]:[...n,[o(e,t),"=",o(r,t)].join("")]}}(e=Object.assign({encode:!0,strict:!0,arrayFormat:"none"},e)),r=Object.assign({},t);if(e.skipNull)for(const t of Object.keys(r))void 0!==r[t]&&null!==r[t]||delete r[t];const s=Object.keys(r);return!1!==e.sort&&s.sort(e.sort),s.map(r=>{const s=t[r];return void 0===s?"":null===s?o(r,e):Array.isArray(s)?s.reduce(n(r),[]).join("&"):o(r,e)+"="+o(s,e)}).filter(t=>t.length>0).join("&")},e.parseUrl=(t,e)=>({url:l(t).split("?")[0]||"",query:p(c(t),e)}),e.stringifyUrl=(t,n)=>{const r=l(t.url).split("?")[0]||"",s=e.extract(t.url),a=e.parse(s),o=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url),i=Object.assign(a,t.query);let c=e.stringify(i,n);return c&&(c=`?${c}`),`${r}${c}${o}`}},45:function(t,e,n){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)},46:function(t,e,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");function a(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],a(n),a(r))}function o(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r),n=1;n<e.length;n++)e=(t=a(e,n).join("")).match(r);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=o(n[0]);r!==n[0]&&(e[n[0]]=r)}n=s.exec(t)}e["%C2"]="�";for(var a=Object.keys(e),i=0;i<a.length;i++){var l=a[i];t=t.replace(new RegExp(l,"g"),e[l])}return t}(t)}}},47:function(t,e,n){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const n=t.indexOf(e);return-1===n?[t]:[t.slice(0,n),t.slice(n+e.length)]}}}]);