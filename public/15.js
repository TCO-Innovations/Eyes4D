(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{0:function(t,e,a){"use strict";function n(t,e,a,n,s,i,r,o){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):s&&(l=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:c}}a.d(e,"a",(function(){return n}))},13:function(t,e,a){"use strict";a.r(e);var n=a(1),s=a.n(n),i=a(2),r=a.n(i),o=a(3),l=a.n(o);function c(t,e,a,n,s,i,r){try{var o=t[i](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(n,s)}var d,p,u={props:{area:{required:!0,type:Object},duration:{required:!0}},data:function(){return{apiEndPoint:"",report:{},period:"monthly",date:new Date,isVisible:!1,selectedDate:(new Date).getDate(),selectedMonth:(new Date).getMonth(),selectedYear:(new Date).getFullYear()}},mounted:function(){var t=Object.assign({period:this.period,date:this.date.toJSON().slice(0,10)},l.a.parse(window.location.search));this.apiEndPoint=l.a.stringifyUrl({url:"".concat(window.location.origin,"/api/handwashing_characteristics"),query:t})},watch:{area:{deep:!0,handler:function(){var t,e,a;this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:(t={},e=this.area.type.toLowerCase(),a=this.area.name,e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t)})}},apiEndPoint:function(){this.fetchReport()},selectedDate:function(t){this.date.setDate(t),this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:{date:this.date.toJSON().slice(0,10)}})},selectedMonth:function(t){this.date.setMonth(t),this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:{date:this.date.toJSON().slice(0,10)}})},selectedYear:function(t){this.date.setFullYear(t),this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:{date:this.date.toJSON().slice(0,10)}})},duration:function(t){this.selectedYear=t,this.date.setFullYear(t),this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:{date:this.date.toJSON().slice(0,10)}})}},computed:{chartOptions:function(){return{chart:{type:"column"},title:{text:"Hand Washing Characteristics",margin:36,style:{color:"#333333",fontSize:"14px"}},subtitle:{text:"".concat(this.areaName,": Jul 2019 - Sep 2019")},accessibility:{announceNewData:{enabled:!0}},xAxis:{type:"category"},yAxis:{title:{text:"Household With Handwash Place"}},legend:{enabled:!1},tooltip:{headerFormat:'<span style="font-size:11px">{point.name}</span><br>',pointFormat:"<span>{point.name}</span>: <b>{point.y}</b><br/>"},credits:{enabled:!1},series:[{colorByPoint:!0,data:[{name:"Hand wash place",y:this.report.has_handwash_place},{name:"Hand wash container",y:this.report.has_handwash_container},{name:"Has Soap",y:this.report.has_soap}]}]}},areaName:function(){return"".concat(this.area.name?this.area.name:"All"," ").concat(this.area.type?this.area.type:"Regions")}},methods:{getMonthName:function(t){return new Date(this.selectedYear,t,this.selectedDate).toLocaleString("default",{month:"long"})},getReportBy:function(t){this.period=t,this.apiEndPoint=l.a.stringifyUrl({url:this.apiEndPoint,query:{period:t}})},fetchReport:(d=s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.get(this.apiEndPoint);case 2:e=t.sent,this.report=e.data[0];case 4:case"end":return t.stop()}}),t,this)})),p=function(){var t=this,e=arguments;return new Promise((function(a,n){var s=d.apply(t,e);function i(t){c(s,a,n,i,r,"next",t)}function r(t){c(s,a,n,i,r,"throw",t)}i(void 0)}))},function(){return p.apply(this,arguments)})}},h=a(0),v=Object(h.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-auto shadow-lg overflow-hidden"},[a("header",{staticClass:"px-6 bg-blue-100 border-b border-blue-100 flex justify-between items-center"},[a("div",{staticClass:"text-sm text-gray-600"},[a("button",{staticClass:"px-2",on:{click:function(e){e.preventDefault(),t.isVisible=!t.isVisible}}},[t._v("\n                "+t._s(t.isVisible?"Hide":"Show")+" Details\n            ")])]),t._v(" "),a("div",{staticClass:"flex"},[a("ul",{staticClass:"flex items-center mx-6"},[a("li",[a("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"daily"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getReportBy("daily")}}},[t._v("Daily")])]),t._v(" "),a("li",[a("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"monthly"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getReportBy("monthly")}}},[t._v("Monthly")])]),t._v(" "),a("li",[a("a",{staticClass:"px-3 py-5 inline-block text-xs uppercase hover:bg-blue-200 border-b-2 hover:border-blue-500",class:{"border-blue-500":"annually"===t.period},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.getReportBy("annually")}}},[t._v("Annually")])])]),t._v(" "),a("form",{staticClass:"flex items-center"},["daily"===t.period?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDate,expression:"selectedDate"}],staticClass:"bg-blue-100",attrs:{id:"day"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedDate=e.target.multiple?a:a[0]}}},t._l(new Date(t.selectedYear,t.selectedMonth+1,0).getDate(),(function(e){return a("option",{domProps:{value:e}},[t._v("\n                        "+t._s(e)+"\n                    ")])})),0):t._e(),t._v(" "),"daily"===t.period||"monthly"===t.period?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedMonth,expression:"selectedMonth"}],staticClass:"bg-blue-100",attrs:{id:"month"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedMonth=e.target.multiple?a:a[0]}}},t._l(Array(12).keys(),(function(e){return a("option",{domProps:{value:e}},[t._v("\n                        "+t._s(t.getMonthName(e))+"\n                    ")])})),0):t._e(),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedYear,expression:"selectedYear"}],staticClass:"bg-blue-100",attrs:{id:"year"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedYear=e.target.multiple?a:a[0]}}},t._l(Array(5).keys(),(function(e){return a("option",{domProps:{value:t.selectedYear-e}},[t._v("\n                        "+t._s(t.selectedYear-e)+"\n                    ")])})),0)])])]),t._v(" "),a("div",{staticClass:"px-6 py-8"},[a("highcharts",{attrs:{options:t.chartOptions}})],1),t._v(" "),t.isVisible?a("div",{staticClass:"px-6 py-6 bg-gray-100"},[t._m(0)]):t._e()])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",{staticClass:"w-full"},[a("tbody",[a("tr",[a("th",{staticClass:"py-1"},[a("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[a("span",{staticClass:"block h-4 w-4 rounded bg-blue-500 mr-2"}),t._v(" Easy Washable Cemented Floor\n                    ")])]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),a("tr",[a("th",{staticClass:"py-1"},[a("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[a("span",{staticClass:"block h-4 w-4 rounded bg-green-500 mr-2"}),t._v(" Iron Sheet Roof\n                    ")])]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),a("tr",[a("th",{staticClass:"py-1"},[a("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[a("span",{staticClass:"block h-4 w-4 rounded bg-yellow-500 mr-2"}),t._v(" Adjacent Bathroom\n                    ")])]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),a("tr",[a("th",{staticClass:"py-1"},[a("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[a("span",{staticClass:"block h-4 w-4 rounded bg-red-500 mr-2"}),t._v(" Lockable Door\n                    ")])]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])]),t._v(" "),a("tr",[a("th",{staticClass:"py-1"},[a("div",{staticClass:"flex items-center text-sm font-semibold text-gray-700"},[a("span",{staticClass:"block h-4 w-4 rounded bg-purple-500 mr-2"}),t._v(" Wall With Bricks\n                    ")])]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("12")]),t._v(" "),a("td",{staticClass:"py-2 px-2 font-normal text-sm"},[t._v("20%")])])])])}],!1,null,null,null);e.default=v.exports}}]);